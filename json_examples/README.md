# 节假日 JSON 格式说明

本目录包含节假日 JSON 文件示例,可用于导入到 Key Date 应用中。

## JSON 文件格式

节假日 JSON 文件必须遵循以下格式:

```json
{
  "year": 2025,
  "region": "china",
  "holidays": {
    "节假日名称": "日期(yyyy-MM-dd)"
  }
}
```

### 字段说明

- **year** (必填): 年份,必须是正整数
- **region** (必填): 地区标识,可选值:
  - `"china"` - 中国
  - `"western"` - 西方
- **holidays** (必填): 节假日对象,键为节假日名称,值为日期字符串(格式: `yyyy-MM-dd`)

## 示例文件

### china_2025.json - 中国节假日示例

```json
{
  "year": 2025,
  "region": "china",
  "holidays": {
    "元旦": "2025-01-01",
    "春节": "2025-01-29",
    "清明节": "2025-04-04",
    "劳动节": "2025-05-01",
    "端午节": "2025-05-31",
    "中秋节": "2025-10-06",
    "国庆节": "2025-10-01"
  }
}
```

### western_2025.json - 西方节假日示例

```json
{
  "year": 2025,
  "region": "western",
  "holidays": {
    "New Year's Day": "2025-01-01",
    "Valentine's Day": "2025-02-14",
    "Easter Sunday": "2025-04-20",
    "Christmas Day": "2025-12-25"
  }
}
```

## 如何使用

### 方法一:在应用内导入内置节假日

1. 打开 Key Date 应用
2. 进入"设置"页面
3. 在"基本设置"分组中:
   - 点击"导入内置节假日（中国）"导入中国节假日
   - 点击"导入内置节假日（西方）"导入西方节假日

### 方法二:从文件导入自定义节假日

1. 创建或编辑符合格式的 JSON 文件
2. 打开 Key Date 应用
3. 进入"设置"页面
4. 点击"从文件导入节假日"
5. 选择您的 JSON 文件
6. 在弹出的对话框中选择地区(中国/西方)
7. 确认导入

## 注意事项

1. **地区匹配**: 导入时选择的地区必须与 JSON 文件中的 `region` 字段一致,否则会导入失败

2. **日期格式**: 日期必须严格按照 `yyyy-MM-dd` 格式,例如: `2025-01-01`

3. **覆盖导入**: 导入同一地区的节假日时,会先删除该地区的旧节假日数据,然后导入新数据

4. **文件编码**: JSON 文件建议使用 UTF-8 编码,以确保中文等特殊字符正确显示

5. **错误处理**: 如果导入失败,应用会显示具体的错误信息,请根据提示检查 JSON 文件格式

## 创建自定义节假日

您可以基于示例文件创建自己的节假日 JSON 文件:

1. 复制示例文件 `china_2025.json` 或 `western_2025.json`
2. 修改 `year` 字段为目标年份
3. 确认 `region` 字段正确(china 或 western)
4. 在 `holidays` 对象中添加、删除或修改节假日:
   - 键: 节假日名称(可使用中文或英文)
   - 值: 日期,格式为 `yyyy-MM-dd`
5. 保存文件,然后通过应用导入

## 常见错误

### 1. "JSON 格式错误"
- 检查 JSON 语法是否正确(括号、逗号、引号等)
- 使用 JSON 验证工具检查文件

### 2. "年份无效"
- 确保 `year` 字段是正整数
- 示例: `"year": 2025`

### 3. "不支持的地区"
- `region` 字段只能是 `"china"` 或 `"western"`
- 注意全部小写

### 4. "日期格式错误"
- 日期必须是 `yyyy-MM-dd` 格式
- 错误: `2025/01/01`, `01-01-2025`
- 正确: `2025-01-01`

### 5. "JSON 文件地区与选择的地区不匹配"
- 导入时选择的地区必须与文件中 `region` 字段一致
- 例如: 文件中 `"region": "china"`,导入时也要选择"中国"

## 获取更多节假日数据

未来计划在 GitHub 上提供更多年份和地区的节假日 JSON 文件,敬请关注!

## 反馈与建议

如果您在使用过程中遇到问题,或有改进建议,欢迎通过 GitHub Issues 反馈。
